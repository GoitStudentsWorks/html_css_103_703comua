{"version":3,"file":"commonHelpers.js","sources":["../src/js/menu.js"],"sourcesContent":["(() => {\n  const mobileMenu = document.querySelector('.js-menu-container');\n  const openMenuBtn = document.querySelector('.mob-menu-open-btn');\n  const openMenuIcon = document.querySelector('.js-open-menu');\n  const closeMenuIcon = document.querySelector('.js-close-menu');\n\n  const toggleMenu = () => {\n    const isMenuOpen = !mobileMenu.classList.contains('is-open');\n    mobileMenu.classList.toggle('is-open', isMenuOpen);\n\n    openMenuIcon.classList.toggle('is-hidden', isMenuOpen);\n    closeMenuIcon.classList.toggle('is-hidden', !isMenuOpen);\n\n    const scrollLockMethod = isMenuOpen\n      ? 'disableBodyScroll'\n      : 'enableBodyScroll';\n    bodyScrollLock[scrollLockMethod](document.body);\n  };\n\n  closeMenuIcon.classList.add('is-hidden');\n\n  openMenuBtn.addEventListener('click', toggleMenu);\n\n  // Функція для зняття фокусу з активних посилань\n  const removeFocusFromLinks = () => {\n    document.querySelectorAll('a').forEach(link => {\n      link.blur();\n    });\n  };\n\n  // Функція для плавного прокручування до якоря та закриття мобільного меню (якщо воно відкрите)\n  const smoothScrollAndCloseMenu = event => {\n    event.preventDefault(); // Запобігаємо стандартній дії посилання\n    const targetId = event.currentTarget.getAttribute('href'); // Отримуємо ідентифікатор якоря\n    const targetElement = document.querySelector(targetId); // Знаходимо елемент, який посилається якір\n    if (targetElement) {\n      // Прокручуємо сторінку до елемента з плавною анімацією\n      targetElement.scrollIntoView({\n        behavior: 'smooth',\n        block: 'start', // Прокручуємо так, щоб елемент був у верхній частині вікна\n      });\n      // Закриваємо мобільне меню (якщо це мобільне меню і воно відкрите)\n      const mobileMenu = document.querySelector('.js-menu-container');\n      if (mobileMenu && mobileMenu.classList.contains('is-open')) {\n        toggleMenu();\n      }\n    }\n    // Знімаємо фокус із активних посилань\n    removeFocusFromLinks();\n  };\n\n  // Додаємо обробники подій для всіх посилань з якорями у мобільному меню\n  const mobileMenuLinks = document.querySelectorAll('.mob-menu-link');\n  mobileMenuLinks.forEach(link => {\n    link.addEventListener('click', smoothScrollAndCloseMenu);\n  });\n\n  // Додаємо обробники подій для всіх посилань з якорями на сторінці\n  const anchorLinks = document.querySelectorAll(\n    'a[href^=\"#\"]:not(.mob-menu-link)'\n  );\n  anchorLinks.forEach(link => {\n    link.addEventListener('click', smoothScrollAndCloseMenu);\n  });\n\n  // Додаємо обробники подій для всіх посилань з якорями на сторінці\n  document.addEventListener('click', removeFocusFromLinks);\n\n  const closeMenuBtn = document.querySelector('.js-close-menu');\n  closeMenuBtn.addEventListener('click', toggleMenu);\n\n  window.matchMedia('(min-width: 768px)').addEventListener('change', e => {\n    if (!e.matches) return;\n    mobileMenu.classList.remove('is-open');\n    openMenuIcon.classList.remove('is-hidden');\n    closeMenuIcon.classList.add('is-hidden');\n    openMenuBtn.setAttribute('aria-expanded', false);\n    bodyScrollLock.enableBodyScroll(document.body);\n  });\n})();\n\n// считываем кнопку\nconst goTopBtn = document.querySelector('.go-top');\n\n// обработчик на скролл окна\nwindow.addEventListener('scroll', trackScroll);\n// обработчик на нажатии\ngoTopBtn.addEventListener('click', goTop);\n\nfunction trackScroll() {\n  // вычисляем положение от верхушки страницы\n  const scrolled = window.pageYOffset;\n  // считаем высоту окна браузера\n  const coords = document.documentElement.clientHeight;\n  // если вышли за пределы первого окна\n  if (scrolled > coords) {\n    // кнопка появляется\n    goTopBtn.classList.add('go-top-visible');\n  } else {\n    // иначе исчезает\n    goTopBtn.classList.remove('go-top-visible');\n  }\n}\n\nfunction goTop() {\n  // пока не вернулись в начало страницы\n  if (window.pageYOffset > 0) {\n    // скроллим наверх\n    window.scrollBy(0, -20); // второй аргумент - скорость\n    setTimeout(goTop, 0); // входим в рекурсию\n  }\n}\n"],"names":["mobileMenu","openMenuBtn","openMenuIcon","closeMenuIcon","toggleMenu","isMenuOpen","scrollLockMethod","removeFocusFromLinks","link","smoothScrollAndCloseMenu","event","targetId","targetElement","e","goTopBtn","trackScroll","goTop","scrolled","coords"],"mappings":"usBAAC,IAAM,CACL,MAAMA,EAAa,SAAS,cAAc,oBAAoB,EACxDC,EAAc,SAAS,cAAc,oBAAoB,EACzDC,EAAe,SAAS,cAAc,eAAe,EACrDC,EAAgB,SAAS,cAAc,gBAAgB,EAEvDC,EAAa,IAAM,CACvB,MAAMC,EAAa,CAACL,EAAW,UAAU,SAAS,SAAS,EAC3DA,EAAW,UAAU,OAAO,UAAWK,CAAU,EAEjDH,EAAa,UAAU,OAAO,YAAaG,CAAU,EACrDF,EAAc,UAAU,OAAO,YAAa,CAACE,CAAU,EAEvD,MAAMC,EAAmBD,EACrB,oBACA,mBACJ,eAAeC,CAAgB,EAAE,SAAS,IAAI,CAClD,EAEEH,EAAc,UAAU,IAAI,WAAW,EAEvCF,EAAY,iBAAiB,QAASG,CAAU,EAGhD,MAAMG,EAAuB,IAAM,CACjC,SAAS,iBAAiB,GAAG,EAAE,QAAQC,GAAQ,CAC7CA,EAAK,KAAI,CACf,CAAK,CACL,EAGQC,EAA2BC,GAAS,CACxCA,EAAM,eAAc,EACpB,MAAMC,EAAWD,EAAM,cAAc,aAAa,MAAM,EAClDE,EAAgB,SAAS,cAAcD,CAAQ,EACrD,GAAIC,EAAe,CAEjBA,EAAc,eAAe,CAC3B,SAAU,SACV,MAAO,OACf,CAAO,EAED,MAAMZ,EAAa,SAAS,cAAc,oBAAoB,EAC1DA,GAAcA,EAAW,UAAU,SAAS,SAAS,GACvDI,GAEH,CAEDG,GACJ,EAG0B,SAAS,iBAAiB,gBAAgB,EAClD,QAAQC,GAAQ,CAC9BA,EAAK,iBAAiB,QAASC,CAAwB,CAC3D,CAAG,EAGmB,SAAS,iBAC3B,kCACJ,EACc,QAAQD,GAAQ,CAC1BA,EAAK,iBAAiB,QAASC,CAAwB,CAC3D,CAAG,EAGD,SAAS,iBAAiB,QAASF,CAAoB,EAElC,SAAS,cAAc,gBAAgB,EAC/C,iBAAiB,QAASH,CAAU,EAEjD,OAAO,WAAW,oBAAoB,EAAE,iBAAiB,SAAUS,GAAK,CACjEA,EAAE,UACPb,EAAW,UAAU,OAAO,SAAS,EACrCE,EAAa,UAAU,OAAO,WAAW,EACzCC,EAAc,UAAU,IAAI,WAAW,EACvCF,EAAY,aAAa,gBAAiB,EAAK,EAC/C,eAAe,iBAAiB,SAAS,IAAI,EACjD,CAAG,CACH,KAGA,MAAMa,EAAW,SAAS,cAAc,SAAS,EAGjD,OAAO,iBAAiB,SAAUC,CAAW,EAE7CD,EAAS,iBAAiB,QAASE,CAAK,EAExC,SAASD,GAAc,CAErB,MAAME,EAAW,OAAO,YAElBC,EAAS,SAAS,gBAAgB,aAEpCD,EAAWC,EAEbJ,EAAS,UAAU,IAAI,gBAAgB,EAGvCA,EAAS,UAAU,OAAO,gBAAgB,CAE9C,CAEA,SAASE,GAAQ,CAEX,OAAO,YAAc,IAEvB,OAAO,SAAS,EAAG,GAAG,EACtB,WAAWA,EAAO,CAAC,EAEvB"}